#                               C语言笔记

[TOC]

### 完成编译后生成的六个文件（转移项目时直接保留.c文件）：

+ .c 源程序文件
+ .o 目标程序文件
+ .win 编译过程形成的引导编译的文件
+ .dev 项目管理文件
+ .exe 可执行文件
+ .layout 记录编译前集成环境的屏幕状态的文件

--------------

### 库文件

```c
#include <系统库>
#include <自定义库>
```

--------

### int main(void)解读

+ int：main函数执行结束后返回给操作系统的是一个整型数
+ main：C程序执行的入口
+ void：main函数执行时不需要任何的参数

------------------

### 整形数

#### 整型常量：

+ 八进制：0开头，如：0123
+ 十六进制：0x开头，如0x123
+ long int的数在结尾加上L或l，如：123l或123L

#### 变量类型：

+ int
+ short int：占用空间小于等于int的整形数
+ long int：占用空间大于等于int的整型数
+ unsigned int/short/long：不带符号的int/short int/long int

#### 变量输出：

+ `printf("%d %ho %lx", a, b, c) ;`分别输出十进制的int、八进制的short int（开头不带0）、十六进制的long int（开头不带0x）

----------------

### 字符变量

+ 用char来声明变量，如char ch = 'a'
+ 字符常量用单引号包裹，如'a'
+ 字符类型变量通常占一个字节
+ 非打印字符直接用编码表示，如：char ch = 13（13为某个字符常量的编码）或char ch = \015（\为转义符号，意为后边的东西不能用常规方法解读，0则表示此时015为八进制）
+ 输出：char ch = a;
  + `printf("%c", ch);` 输出a
  + `printf("%d", ch);` 输出a的编码

-----------------

### 浮点数

#### 浮点常量

+ 十进制：123.123
+ 科学计数法：1.5E8
+ float类型：123f 或 123F
+ 一般无标注浮点常量都看作double类型
+ long double类型：123.1L或1231.1l

#### 浮点类型变量

+ float：比较小的浮点数
+ double：一般的浮点数
+ long double：比较大的浮点数
+ 输出
  + 十进制：`printf("%f", a);`
  + 科学计数法：`printf("%e", a);`
  + long double类型输出：`printf("%le %lf", a, b);`

--------------

### 字符串

#### 常量

字符串常量用双引号包裹，如："a nice day"

#### 变量

C用数组处理字符串变量 如：

char str[10]；说明变量str可以存放10个字符 如“nice day”但字符数必须比方括号内的数字小1以上，因为处理字符串时末尾会增添一个\0表示字符串结束了

#### 求字符串长度示例

```c
#include <stdio.h>
#include <string.h>
int main(void){
    printf("%d", strlen("hello world"));
    return 0;
}
```

输出为11

#### 字符串长度和占用空间的区别

+ 用sizeof()求占用空间， 如sizeof("hello world")的值是12
+ "hello world"长度为11
+ "hello world"占用空间为12（包括结尾\0)
+ char str[10]; （将nice day 存储在str中）
  + sizeof(str)的值是10
  + strlen(str)的值是8

#### 输出

+ 常量：`printf("hello world");`
+ 变量：`printf("%s", str);`

--------------

### 符号常量（给某一常量取名）

#### 优点

+ 含义清楚
+ 一改全改

#### 用#define定义符号常量

+ #define 符号常量名 字符串，如：`#define PI 3.14`

+ #define的处理只是简单的替换

  + 会出现意想不到的错误，如：

    `#define a 3+5`

    `b = 2 * a;`

    b的值为11

  + 改进方法：

    `#define a (3 + 5)`

#### 用const限定符限定一个变量时只读的

+ C99新增功能
+ 运用示例：`const double PI = 3.14;`
+ 不会出现用#define时出现的错误

------------

### 常用转义序列

| 符号 |      意义       |
| :--: | :-------------: |
|  \n  |      换行       |
|  \t  | 水平制表（tab） |
|  \b  |     退一格      |
|  \r  |      回车       |
|  \f  |      换页       |
|  \\  |        \        |
|  \'  |        '        |
|  \"  |        "        |

------------------

### 格式化输出--printf函数

#### 用法

printf(格式控制字符串, 输出列表)；

如：`printf("%d %d %d\n", sizeof(long int), sizeof(int), sizeof(short int));`

#### 格式控制字符

| 格式控制字符 |                       功能说明                       |
| :----------: | :--------------------------------------------------: |
|     d, i     |        带符号地输出十进制整数（正数不带符号）        |
|      o       |                 无符号输出八进制整数                 |
|     X, x     | 无符号输出十六进制整数，X表示字母大写，x表示字母小写 |
|      u       |                 无符号输出十进制整数                 |
|      c       |                     输出一个字符                     |
|      s       |                      输出字符串                      |
|     E,e      |     以科学计数法输出实数，E表示E大写，e表示e小写     |
|      f       |                    输出十进制实数                    |
|     G, g     |          选用%f和%e中输出宽度较短的形式输出          |

#### 转换说明修饰符

插在%和格式控制字符中间，进一步修饰输出

| 修饰符 |                   含义                   |
| :----: | :--------------------------------------: |
|   l    |    用于输出长整型，可插在d、x、o、u前    |
|   h    |              用于表示短整型              |
|   m    | 指定输出数据的宽度，即在屏幕上占据的空间 |
|   .n   |       指定实数输出时小数部分的位数       |
|   -    |    指定输出宽度时，输出的数据向左对齐    |
|   +    |             显示数字的正负号             |

#### 返回值

`printf`正常运行时返回值是输出的字符数，出错时返回负值

----------------

### 格式化输入--scanf函数

#### 用法

scanf('格式控制字符串', 变量地址)

格式控制字符串其他字符必须原样输入